<div>
    <mat-toolbar>
        <span><button mat-icon-button (click)="drawer.toggle()"><fa-icon [icon]="'bars'"></fa-icon></button><span class="toolbar-button-text">{{course.name}}</span></span>
        <span class="middle-content"></span>
        <span>
            <button mat-raised-button color="primary" *jhiHasAnyAuthority="'ROLE_ADMIN'" [routerLink]="['/video/new']">
                <fa-icon [icon]="'plus'"></fa-icon>
                <span>
                    Create New Video
                </span>
            </button>
        </span>
    </mat-toolbar>
    <jhi-alert></jhi-alert>
    <br/>
    <div class="mat-body">
        <mat-drawer-container autosize>
            <mat-drawer #drawer mode="side" opened>
                <mat-expansion-panel *ngFor="let navItem of navItems">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="chapterNames">{{navItem.chapterNumber}}: {{navItem.chapterName}}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-list>
                        <a mat-list-item (click)="clickedVideo = video" *ngFor="let video of navItem.videos"><button mat-button>{{video.name}}</button><span class="badge badge-info" *ngIf='video.url === null'>Subscribe</span></a>
                    </mat-list>
                </mat-expansion-panel>
            </mat-drawer>

            <mat-drawer-content>
                <div class="embed-responsive embed-responsive-16by9" *ngIf="clickedVideo != null">
                    <iframe *ngIf="clickedVideo.url != null" class="embed-responsive-item" [src]='clickedVideo.url + "?modestbranding=1" | safe' allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </mat-drawer-content>
        </mat-drawer-container>
    </div>
</div>
